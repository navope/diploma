<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <title>Sensor Data</title>
</head>
<body>
<h1>Sensor Data</h1>
<p>Temperature: <span id="temperature">--</span> Â°C</p>
<p>Pressure: <span id="pressure">--</span> kPa</p>

<script>
  var socket = new WebSocket("ws://localhost:8080/sensor-data");

  socket.onmessage = function(event) {
    var data = JSON.parse(event.data);
    document.getElementById("temperature").textContent = data.temperature;
    document.getElementById("pressure").textContent = data.pressure;
  };

  socket.onclose = function(event) {
    console.log("WebSocket is closed now.");
  };

  socket.onerror = function(error) {
    console.log("WebSocket error: " + error);
  };
</script>
</body>
</html>